Linux之MBR与GPT
    MBR:
        主引导记录（Master Boot Record ， MBR）是指一个存储设备的开头 512 字节。它包含操作系统的引导器和存储设备的分区表。
            它有自己的启动器，也就是启动代码，一旦启动代码被破坏，系统就没法启动，只有通过修复才能启动系统。
        
        主引导扇区解析
            MBR主引导扇区位于磁盘的第一个扇区，即0号扇区，主要由引导代码、分区表、结束标志三部分构成，总共占512字节。

            引导代码:引导程序(bootloader)，占扇区前446字节。计算机在上电完成BIOS自检后，会将该主引导扇区加载到内存中并执行
                前面446字节的引导程序，引导程序首先会在分区表中查找活动分区，若存在活动分区，则根据活动分区的偏移量找到该
                活动分区上的引导扇区的地址，并将该引导扇区加载到内存中，同时检查该引导扇区的有效性，然后根据该引导扇区的规
                则去引导操系统。在一些非启动磁盘上，MBR引导代码可能都是0，这对磁盘使用没有任何影响。
            
            分区表:占扇区中间64字节。分区表是磁盘管理最重要的部分，通过分区表信息来定位各个分区，访问用户数据。分区表包含
                4个分区项，每一个分区项通过位置偏移、分区大小来唯一确定一个主分区或者扩展分区。每个分区项占16字节，包括引
                导标识、起始和结束位置的CHS参数、分区类型、开始扇区、分区大小等，具体描述如下表所示：或者扩展分区。每个分
                区项占16字节，包括引导标识、起始和结束位置的CHS参数、分区类型、开始扇区、分区大小等。分区项的第1个字节表
                示该分区是否是活动分区，即是否包含系统引导扇区，用来引导操作系统。每个磁盘只能同时有一个活动分区，活动分区
                的引导指示符是0x80，其他均为0x00；尽管我们可以通过一些工具来手动修改引导指示符，但是引导程序只会查找并使用
                第一个引导指示符为0x80的活动分区。
            
            结束标志:上图中最后的"55 AA"即为结束标志，或者称魔数，占扇区最后2字节。每次执行系统引导代码时都会检查MBR主引导
                扇区最后2字节是否是"55 AA"，若是，则继续执行后续的程序，否则，则认为这是一个无效的MBR引导扇区，停止引导系统。
        
        缺陷:
            1.只能有四个主分区或者三个主分区加一个扩展分区 (以及在扩展分区中的任意数量的逻辑分区). 如果你有三个主分区加一个
                扩展分区以及除此之外的空闲空间，在空闲空间之上你无法创立分区。
            2.在扩展分区里，逻辑分区的元数据被存储在一个链表结构中。如果一个环节丢失，该元数据之后的逻辑分区全部丢失。
　　        3.MBR 只支持1个字节的分区类型编码，导致许多冲突。
　　        4.MBR 使用32位的 LBA 值来存储分区扇区信息。LBA 的大小以及512B的扇区大小共同限制了硬盘可寻址大小最大为2TB. 如果使
                用MBR, 2TB以外的空间无法使用。
    GPT:
        介绍
            GPT的全称是Globally Unique Identifier Partition Table,简称GUID(全局唯一标识磁盘分区表)。它的推出是和UEFI BIOS相
                辅相成的，鉴于MBR的磁盘容量和分区数量已经不能满足硬件发展的需求，GPT首要的任务就是突破了2.2T分区的限制，最大
                支持18EB的分区。这是一个正逐渐取代MBR的新标准，它由UEFI辅住而形成的，这样就有了UEFI用于取代老旧的BIOS，而GPT
                则取代老旧的MBR。这个标准没有MBR的那些限制。磁盘驱动器容量可以大得多，大到操作系统和文件系统都没法支持。它同
                时还支持几乎无限个分区数量，限制只在于操作系统，Windows支持最多128个GPT分区。 UEFI全称“统一的可扩展固件接口
                ”(Unified Extensible Firmware Interface)， 是一种详细描述类型接口的标准。UEFI运行流程: 开机--> uefi初始化-->
                引导操作系统 --> 进入系统
        优点
            1.使用 GUID (UUID) 来表明分区类型 - 无冲突。
        　　2.为每个分区提供了一个唯一硬盘 GUID 和一个唯一分区 GUID - 一个好的不依赖文件系统的引用分区和硬盘的方式。
        　　3.任意分区数 - 取决于给分区表分配的空间 - 不需要扩展和逻辑分区。GPT ，默认包含了定义128个分区的空间。当用户想要更多
                分区时，他可以给分区表分配更多空间 (目前只有 gdisk 支持这一特性)。
        　　4.使用64位 LBA 存储扇区数 - 最大硬盘可寻址大小为 2 ZB.
        　　5.存储了备份头和分区表可于主要部分损坏时进行急救。
        　　5.CRC32 校验值用于检测头和分区表的错误与损坏。


    MBR与GPT区别:
        1.GPT能使用大于2.2T的硬盘，MBR不行。支持最大卷为18 EB（1EB=1048576TB）。
        2.GPT可以支持无限个分区，微软目前的限定是128个。Linux、Macos都能支持这种分区格式。MBR最多4个主分区，超过4个再分区只能
            通过逻辑分区。
        3.GPT分区磁盘有备份分区表来提高分区数据结构的完整性。
        4.UEFI + GPT 开机启动更快，开机时跳过外设检测，并且可以实现启动时原生分辨率，搭载固态硬盘开机时间很短，十秒左右。
            （没有开机硬件自检会稍微快了那么1、2秒）
        5.UEFI + GPT 支持Secure Boot。通过保护预启动或预引导进程，抵御bootkit攻击，从而提高安全性。所有在开机时比Windows内
            核更早加载，实现内核劫持的技术，都可以称之为Bootkit。
        6.UEFI BIOS 可用鼠标操作图形界面，不再是枯燥的蓝底白字的英文。（Intel提出，用于取代BIOS）。UEFI的优越特性：可操作性
            、安全性、兼容性、可扩展性。
        7.BIOS+MBR的系统引导文件可以和系统文件在同一分区的根目录，也可以不与系统文件同一分区，只要系统引导文件所在分区为活动的
            主分区即可启动操作系统；而UEFI+GPT只能把系统引导文件放置在ESP分区，且操作系统必须在另外的主分区，也就是说，UEFI+GPT
            强制要求系统启动文件与系统文件必须分离，不在同一分区。
        8.BIOS+MBR一旦系统安装好之后，如果系统引导文件在单独的分区，此分区可以在操作系统中可见，也可以设置此分区为隐藏，系统都
            可以正常启动；而UEFI+GPT系统引导文件所在的ESP分区在操作系统中为不可见，进入系统后自动隐藏。